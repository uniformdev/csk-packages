id: singleProductBySlug
displayName: Single Product by Slug
ttl: 30
path: /product-projections/search
custom:
  attributeToSearchBy: slug
method: GET
purgeKey: 6522c535-fee2-4f22-b165-c0976e621560
archetype: singleEntryByAttribute
variables:
  value:
    type: text
    default: ''
    displayName: Value to search for product with
  locale:
    type: text
    default: ''
    displayName: Locale
  priceChannel:
    type: text
    default: ''
    displayName: Price channel code
  priceCurrency:
    type: text
    default: ''
    displayName: Price currency code
  storeProjection:
    type: text
    default: ''
    displayName: Store key
parameters:
  - key: filter
    value: slug.${locale}:"${value}"
  - key: localeProjection
    value: ${locale}
  - key: priceCurrency
    value: ${priceCurrency}
    omitIfEmpty: true
  - key: priceChannel
    value: ${priceChannel}
    omitIfEmpty: true
  - key: storeProjection
    value: ${storeProjection}
    omitIfEmpty: true
  - key: expand
    value: categories[*].key
  - key: expand
    value: productType
dataSourceId: commercetoolsv2
allowedOnComponents: []
