id: singleProductByEan
displayName: Single Product by EAN
ttl: 30
path: /product-projections/search
custom:
  attributeToSearchBy: variants.attributes.ean
method: GET
purgeKey: 7b4e1060-9240-4f98-bf6b-f87a5def3f6b
archetype: singleEntryByAttribute
variables:
  value:
    type: text
    default: ''
    displayName: Value to search for product with
  locale:
    type: text
    default: ''
    displayName: Locale
  priceChannel:
    type: text
    default: ''
    displayName: Price channel code
  priceCurrency:
    type: text
    default: ''
    displayName: Price currency code
  storeProjection:
    type: text
    default: ''
    displayName: Store key
parameters:
  - key: filter
    value: variants.attributes.ean:"${value}"
  - key: localeProjection
    value: ${locale}
  - key: priceCurrency
    value: ${priceCurrency}
    omitIfEmpty: true
  - key: priceChannel
    value: ${priceChannel}
    omitIfEmpty: true
  - key: storeProjection
    value: ${storeProjection}
    omitIfEmpty: true
  - key: expand
    value: categories[*].key
  - key: expand
    value: productType
dataSourceId: commercetoolsv2
allowedOnComponents: []
