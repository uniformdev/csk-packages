import { FC, MouseEventHandler } from 'react';
import { cn } from '@uniformdev/csk-components/utils/styling';
import Tooltip from '@/components/custom-ui/Tooltip';

interface ChatButtonProps {
  disabled?: boolean | undefined;
  onClick?: MouseEventHandler<HTMLButtonElement> | undefined;
}

const ChatButton: FC<ChatButtonProps> = ({ disabled, onClick }) => (
  <Tooltip text={disabled ? 'Visit more pages for better results' : 'Chat with Shopping Assistant'}>
    <button className="text-white" type="button" aria-haspopup="dialog" onClick={onClick}>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="75"
        height="96"
        viewBox="0 0 75 96"
        fill="none"
        className={cn('transition-all duration-1000 opacity-80 hover:[animation-play-state:paused] hover:opacity-100', {
          'animate-wobble-bounce opacity-100': !disabled,
        })}
      >
        <path d="M15.6546 92.6168L58.3549 93L61 76.3833L14 76L15.6546 92.6168Z" fill="white" />
        <path d="M11.9715 36.7295L62.8484 37L66 25.2705L10 25L11.9715 36.7295Z" fill="white" />
        <path d="M11.0419 10.8422L63.7358 11L67 4.15781L9 4L11.0419 10.8422Z" fill="#F7DF1E" />
        <path d="M68.5709 14.1804L5.88323 14L2 21.8196L71 22L68.5709 14.1804Z" fill="#F7DF1E" />
        <path d="M9.99922 75.1197L64.1237 75.9638L67.4765 39.3637L7.9019 38.5196L9.99922 75.1197Z" fill="#F7DF1E" />
        <path
          d="M74.9826 22.8349L72.8854 11.8307C72.6899 10.9338 71.8856 10.2253 70.8932 10.2253H68.0968V2.02494C68.0968 1.5275 67.9013 0.92453 67.4955 0.525063C67.097 0.125597 66.6008 -0.0779055 65.9995 0.0276141L8.81536 3.02738C7.71783 3.12536 6.92099 3.92431 6.92099 5.02471V10.3308H4.12456C3.12477 10.3308 2.32793 11.0318 2.13248 11.9363L0.0351491 22.9404C-0.0625758 23.5434 0.0351491 24.1388 0.433567 24.6438C0.831984 25.1489 1.32813 25.3448 1.92951 25.3448H7.01872L7.81555 36.6504H7.71783C7.11644 36.6504 6.62031 36.8465 6.22188 37.2534C5.82347 37.6529 5.6205 38.2559 5.72575 38.7534L8.31921 75.7755C8.41693 76.778 9.21377 77.675 10.3113 77.675H11.0104L12.2132 93.8797C12.3109 94.8821 13.1077 95.6811 14.2053 95.6811H60.7073C61.7071 95.6811 62.6016 94.8821 62.6993 93.8797L63.9998 77.675H64.699C65.7965 77.675 66.5934 76.876 66.691 75.7755L69.2846 38.7534C69.2846 38.1504 69.0891 37.6529 68.7884 37.2534C68.3899 36.8539 67.8939 36.6504 67.2925 36.6504H67.1948L67.9915 25.3448H73.0807C73.6821 25.3448 74.2761 25.0434 74.5767 24.6438C74.8698 24.0409 75.0729 23.4454 74.9752 22.8425L74.9826 22.8349ZM10.815 6.8261L64.0074 4.02229V10.2253H10.815V6.8261ZM58.9106 91.6714H16.0019L14.9044 77.5619H59.9104L58.9106 91.6714ZM62.8047 73.6651H12.1155L9.82267 40.6451H65.0974L62.8047 73.6651ZM63.1054 36.5449H11.8148L11.0179 25.2393H63.9021L63.1054 36.5449ZM4.32753 21.237L5.62802 14.2351H69.1944L70.4949 21.237H4.32753Z"
          fill="black"
        />
        <path
          d="M35.563 60.654L34.75 63.5L33.937 60.654C33.7269 59.9189 33.3329 59.2494 32.7923 58.7087C32.2516 58.1681 31.5821 57.7741 30.847 57.564L28 56.75L30.846 55.937C31.5811 55.7269 32.2506 55.3329 32.7913 54.7923C33.3319 54.2516 33.7259 53.5821 33.936 52.847L34.75 50L35.563 52.846C35.7731 53.5811 36.1671 54.2506 36.7077 54.7913C37.2484 55.3319 37.9179 55.7259 38.653 55.936L41.5 56.75L38.654 57.563C37.9189 57.7731 37.2494 58.1671 36.7087 58.7077C36.1681 59.2484 35.7741 59.9179 35.564 60.653L35.563 60.654ZM44.009 53.465L43.75 54.5L43.491 53.465C43.3427 52.8716 43.036 52.3296 42.6036 51.897C42.1712 51.4644 41.6294 51.1575 41.036 51.009L40 50.75L41.036 50.491C41.6294 50.3425 42.1712 50.0356 42.6036 49.603C43.036 49.1704 43.3427 48.6284 43.491 48.035L43.75 47L44.009 48.035C44.1573 48.6285 44.4642 49.1706 44.8968 49.6032C45.3294 50.0358 45.8715 50.3427 46.465 50.491L47.5 50.75L46.465 51.009C45.8715 51.1573 45.3294 51.4642 44.8968 51.8968C44.4642 52.3294 44.1573 52.8715 44.009 53.465ZM42.644 65.317L42.25 66.5L41.856 65.317C41.7455 64.9856 41.5594 64.6845 41.3125 64.4375C41.0655 64.1906 40.7644 64.0045 40.433 63.894L39.25 63.5L40.433 63.106C40.7644 62.9955 41.0655 62.8094 41.3125 62.5625C41.5594 62.3155 41.7455 62.0144 41.856 61.683L42.25 60.5L42.644 61.683C42.7545 62.0144 42.9406 62.3155 43.1875 62.5625C43.4345 62.8094 43.7356 62.9955 44.067 63.106L45.25 63.5L44.067 63.894C43.7356 64.0045 43.4345 64.1906 43.1875 64.4375C42.9406 64.6845 42.7545 64.9856 42.644 65.317Z"
          fill="white"
          stroke="black"
          strokeLinecap="round"
          strokeLinejoin="round"
        />
      </svg>
      <style>
        {`
        @keyframes wobble-bounce {
            0% { transform: rotate(0deg) translateY(0px); }
            15% { transform: rotate(3deg) translateY(-8px); }
            30% { transform: rotate(-3deg) translateY(5px); }
            45% { transform: rotate(3deg) translateY(-8px); }
            60% { transform: rotate(0deg) translateY(0px); }
            100% { transform: rotate(0deg) translateY(0px); }
        }
        
        .animate-wobble-bounce {
            animation: wobble-bounce 2s infinite ease-in-out;
        }
        `}
      </style>
    </button>
  </Tooltip>
);
ChatButton.displayName = 'ChatButton';

export default ChatButton;
